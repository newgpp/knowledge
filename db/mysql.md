# Mysql

## 一、Schema与数据类型优化

### 1. 选择优化的数据结构类型

- 更小的通常更好
- 简单就好 整型比字符操作代价更低
- 尽量避免使用NULL

步骤

- 选择合适的大类型: 数字、字符串、时间等。
- 选择具体的类型
  - 长度和范围不一样
  - 允许的精度不一样
  - 需要的物理空间不一样（磁盘和内存空间）不通

#### 1.1 整数类型

MySQL可以为整数类型指定宽度，例如INT(11)，它不会限制值的合法范围，只是规定了显示字符的长度。对于存储和计算来说，INT(1)和INT(20)是相同的。

类型|bit位|值范围
---|---|---
TINYINT|8|-2^(n-1) ~ 2^(n-1)-1
SMALLINT|16|
MEDIUMINT|16|
INT|32|
BIGINT|32|

#### 1.2 实数类型

类型|bytes|说明
---|---|---
FLOAT|4|
DOUBLE|8|
DECIMAL|8|存储财务数据时使用

#### 1.3 字符串类型

类型|bytes|说明
---|---|---
VARCHAR||用于存储可变长字符串
CHAR||定长字符串

#### 1.4 日期和时间类型

类型|bytes|说明
---|---|---
DATETIME|8|从1001年到9999年，精度为秒，与时区无关
TIMESTAMP|4|1970年以来的秒数。

- FROM_UNIXTIME()把Unix时间转为日期
- UNIX_TIMESTAMP()把日期转为Unix时间戳

## 二、创建高性能的索引

- uk 唯一索引
- idx 普通索引